<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>NFT Karakter Savaşı - Cyberpunk Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Variables */
        :root {
            --neon-pink: #ff0080;
            --neon-cyan: #00ffff;
            --neon-purple: #8000ff;
            --neon-green: #00ff41;
            --neon-orange: #ff8000;
            --cyber-dark: #0a0a0a;
            --cyber-darker: #050505;
            --cyber-light: #1a1a1a;
            --cyber-grid: #333333;
        }

        /* Basic Resets and General Styles */
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            color: #ffffff;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            background: none;
            display: flex;
            justify-content: center;
            align-items: center;
            /* Telegram Web App Safe Area Adjustments */
            padding-top: env(safe-area-inset-top, 20px);
            padding-bottom: env(safe-area-inset-bottom, 0px);
            padding-left: env(safe-area-inset-left, 0px);
            padding-right: env(safe-area-inset-right, 0px);
        }

        /* Cyber Background Effect */
        .cyber-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background-color: #0a0a0a;
            background-image: radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 1px, transparent 1px), radial-gradient(circle at 70% 80%, rgba(255, 255, 255, 0.1) 1px, transparent 1px), radial-gradient(circle at 40% 50%, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 100px 100px, 120px 120px, 80px 80px;
            background-repeat: repeat;
            animation: space-move 60s linear infinite;
        }

        @keyframes space-move {
            0% {
                background-position: 0 0, 0 0, 0 0;
            }
            100% {
                background-position: 1000px 1000px, 1200px 1200px, 800px 800px;
            }
        }

        /* Particle Effect */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            animation: star-flicker 2s infinite ease-in-out;
        }

        @keyframes star-flicker {
            0%, 100% {
                transform: translateY(0px) rotate(0deg) scale(1);
                opacity: 0;
            }
            25% {
                opacity: 0.8;
                transform: translateY(-20px) scale(1.1);
            }
            50% {
                opacity: 0.2;
                transform: translateY(-40px) scale(0.9);
            }
            75% {
                opacity: 1;
                transform: translateY(-60px) scale(1.2);
            }
            100% {
                transform: translateY(-80px) rotate(180deg) scale(1);
                opacity: 0;
            }
        }

        /* Game Container */
        .game-container {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.5) 0%, rgba(10, 10, 10, 0.6) 100%);
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.1), inset 0 0 20px rgba(0, 255, 255, 0.05);
            padding: 20px;
            margin: 80px auto 20px auto;
            max-width: 1200px;
            position: relative;
            backdrop-filter: blur(10px);
            display: none; /* Hidden initially */
            flex-direction: column;
            align-items: center;
            /* Ensure content respects safe areas within the container */
            padding-top: calc(20px + env(safe-area-inset-top, 0px));
            padding-bottom: calc(20px + env(safe-area-inset-bottom, 0px));
            padding-left: calc(20px + env(safe-area-inset-left, 0px));
            padding-right: calc(20px + env(safe-area-inset-right, 0px));
        }

        .game-container::before {
            content: none; /* Remove this pseudo-element */
        }

        /* Game Title */
        .game-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.8);
            margin-bottom: 30px;
            animation: title-pulse 2s ease-in-out infinite alternate;
        }

        @keyframes title-pulse {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.02);
            }
        }

        /* Main Game Content Layout */
        .main-game-content {
            display: flex;
            flex-direction: column; /* Vertical layout */
            justify-content: center;
            align-items: center;
            gap: 25px; /* Increased gap */
            width: 100%;
            margin-bottom: 30px;
        }

        .player-areas-wrapper {
            display: flex;
            justify-content: center; /* Centered */
            align-items: flex-start;
            gap: 35px; /* Increased gap between player areas */
            flex-grow: 1;
            width: 100%; /* Full width */
            max-width: 800px; /* Max width maintained */
        }

        /* Player Areas */
        .player-area {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.4) 0%, rgba(10, 10, 10, 0.5) 100%);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            flex: 1;
            max-width: 450px;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--neon-cyan);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.2), inset 0 0 10px rgba(0, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        #player1-area {
            display: none; /* Player 1 area hidden, player-bar will be used instead */
        }

        #player2-area {
            border: none; /* Removed border */
            box-shadow: none; /* Removed box shadow */
            background: none; /* Removed background */
            padding: 0; /* Removed padding */
            max-width: 400px; /* Adjusted max-width for opponent card */
            margin-top: 0px; /* Adjusted margin-top for opponent card */
            gap: 20px; /* Added gap for elements inside player2-area */
        }

        .player-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .player-area:hover::before {
            left: 100%;
        }

        .current-player-glow {
            border-color: var(--neon-pink) !important;
            box-shadow: 0 0 30px rgba(255, 0, 128, 0.8), inset 0 0 30px rgba(255, 0, 128, 0.2);
            animation: current-player-pulse 1.5s ease-in-out infinite alternate;
        }

        @keyframes current-player-pulse {
            0% {
                box-shadow: 0 0 30px rgba(255, 0, 128, 0.8), inset 0 0 30px rgba(255, 0, 128, 0.2);
                transform: scale(1);
            }
            100% {
                box-shadow: 0 0 50px rgba(255, 0, 128, 1), inset 0 0 50px rgba(255, 0, 128, 0.4);
                transform: scale(1.02);
            }
        }

        /* Player Info (Top Section) */
        .player-info-top {
            width: 100%;
            text-align: center;
            margin-bottom: 10px; /* Added margin-bottom */
        }

        .player-info-top h2 {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        /* HP Bar */
        .hp-bar-container {
            width: 80%;
            height: 20px;
            background: linear-gradient(135deg, #222, #111);
            border: 2px solid var(--neon-cyan);
            border-radius: 10px;
            overflow: hidden;
            margin: 0 auto;
            position: relative; /* Essential for absolute positioning of text */
        }

        .hp-bar {
            height: 100%;
            background: linear-gradient(45deg, var(--neon-green), #00ff80);
            border-radius: 8px;
            transition: width 0.8s ease-out;
            position: relative;
            animation: hp-glow 2s ease-in-out infinite alternate;
        }

        @keyframes hp-glow {
            0% {
                box-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
            }
            100% {
                box-shadow: 0 0 20px rgba(0, 255, 65, 0.8);
            }
        }

        .hp-bar.low-hp {
            background: linear-gradient(45deg, var(--neon-pink), #ff4080);
            animation: hp-danger 1s ease-in-out infinite alternate;
        }

        @keyframes hp-danger {
            0% {
                box-shadow: 0 0 10px rgba(255, 0, 128, 0.5);
            }
            100% {
                box-shadow: 0 0 25px rgba(255, 0, 128, 1);
            }
        }

        /* HP Overlay Text */
        .hp-overlay-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            font-size: 0.9rem; /* Slightly smaller for better fit */
            font-weight: 700;
            color: #ffffff; /* White text for contrast */
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8); /* Dark shadow for readability */
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap; /* Prevent text from wrapping */
        }

        .hp-overlay-text .heart-icon {
            color: var(--neon-pink); /* Red heart */
            font-size: 0.5em; /* Even smaller heart size */
        }

        /* Character Card Visual */
        .character-card-visual {
            width: 280px;
            height: 380px;
            background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
            border: 3px solid var(--neon-purple);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            transition: transform 0.3s ease;
            flex-shrink: 0;
            flex-grow: 0;
            margin-bottom: 15px;
            box-shadow: 0 0 15px rgba(128, 0, 255, 0.3), inset 0 0 10px rgba(128, 0, 255, 0.1);
        }

        .character-card-visual::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            animation: card-rotate 4s linear infinite;
            z-index: -1;
        }

        @keyframes card-rotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .character-card-visual:hover {
            transform: scale(1.05);
        }

        .character-card-visual img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
            filter: brightness(1.1) contrast(1.2);
        }

        /* Character Info (Bottom Section) */
        .character-info-bottom {
            width: 100%;
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.5), rgba(26, 26, 26, 0.8));
            border-radius: 10px;
            padding: 15px;
            border: 1px solid var(--neon-cyan);
            margin-top: 10px; /* Added margin-top */
        }

        .character-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--neon-cyan);
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
            margin-bottom: 10px;
            animation: name-glow 2s ease-in-out infinite alternate;
        }

        @keyframes name-glow {
            0% {
                text-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
            }
            100% {
                text-shadow: 0 0 20px rgba(0, 255, 255, 1);
            }
        }

        .character-stats {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .character-stat-item {
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), rgba(128, 0, 255, 0.1));
            border: 1px solid var(--neon-cyan);
            border-radius: 8px;
            padding: 5px 10px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
        }

        .character-stat-item:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .character-stat-value {
            color: var(--neon-green);
            font-weight: 700;
            text-shadow: 0 0 5px rgba(0, 255, 65, 0.8);
        }

        /* Game Messages */
        .game-messages {
            background: rgba(10, 10, 10, 0.5);
            border-radius: 15px;
            padding: 10px 15px; /* Adjusted padding */
            text-align: center;
            font-family: 'Orbitron', monospace;
            font-size: 0.8rem; /* Smaller font size */
            font-weight: 600;
            color: var(--neon-orange);
            min-height: 45px; /* Adjusted height */
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute; /* Changed to absolute for precise positioning */
            bottom: 20px; /* Moved up to be visible and closer to buttons */
            left: 50%;
            transform: translateX(-50%); /* Centered horizontally */
            width: 90%; /* Adjusted width */
            max-width: 600px; /* Max width */
            overflow: hidden;
            text-shadow: 0 0 10px rgba(255, 128, 0, 0.8);
            border: 1px solid var(--neon-orange);
            z-index: 5; /* Ensure it's above other elements if needed */
        }

        .game-messages::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 128, 0, 0.00), transparent);
            animation: message-scan 3s ease-in-out infinite;
        }

        @keyframes message-scan {
            0%, 100% {
                left: -100%;
            }
            50% {
                left: 100%;
            }
        }

        /* Game Buttons Sidebar */
        .game-buttons-sidebar {
            display: flex;
            flex-direction: row;
            gap: 20px;
            padding: 15px; /* Adjusted padding */
            min-width: 180px;
            align-items: center;
            justify-content: center;
            margin-top: 15px; /* Adjusted margin-top to be closer to opponent info */
            margin-bottom: 0px; /* Removed margin-bottom as message bar is now below */
            width: 100%; /* Make buttons span full width of parent */
        }

        /* General Game Button Style */
        .game-button {
            font-family: 'Orbitron', monospace;
            color: white;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            width: auto;
            box-shadow: 0 5px 15px rgba(255, 0, 128, 0.3);
        }

        .game-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .game-button:hover::before {
            left: 100%;
        }

        .game-button:hover {
            transform: translateY(-3px);
            border-color: var(--neon-cyan);
        }

        .game-button:active {
            transform: translateY(0);
        }

        .game-button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Attack Button */
        #attack-button {
            background: linear-gradient(45deg, rgba(255, 0, 128, 0.3), rgba(204, 0, 102, 0.3));
            border: 2px solid rgba(255, 0, 128, 0.6);
            box-shadow: 0 0 10px rgba(255, 0, 128, 0.3);
        }

        #attack-button:hover {
            box-shadow: 0 0 20px rgba(255, 0, 128, 0.7), 0 0 40px rgba(255, 0, 128, 0.5);
            border-color: rgba(255, 0, 128, 1);
            transform: translateY(-3px) scale(1.02);
        }

        /* Buff Button */
        #buff-button {
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.3), rgba(0, 204, 204, 0.3));
            border: 2px solid rgba(0, 255, 255, 0.6);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        #buff-button:hover {
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.7), 0 0 40px rgba(0, 255, 255, 0.5);
            border-color: rgba(0, 255, 255, 1);
            transform: translateY(-3px) scale(1.02);
        }

        /* Animations */
        @keyframes target-shake {
            0%, 100% {
                transform: translateX(0);
            }
            10%, 30%, 50%, 70%, 90% {
                transform: translateX(-8px);
            }
            20%, 40%, 60%, 80% {
                transform: translateX(8px);
            }
        }

        @keyframes target-hit-flash {
            0%, 100% {
                filter: brightness(1);
            }
            50% {
                filter: brightness(2) saturate(2) hue-rotate(300deg);
            }
        }

        .character-card-visual.hit {
            animation: target-shake 0.5s ease-in-out, target-hit-flash 0.4s ease-out;
        }

        @keyframes attacker-glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(255, 0, 128, 0.5);
            }
            50% {
                box-shadow: 0 0 40px rgba(255, 0, 128, 1);
            }
        }

        .character-card-visual.attacking {
            animation: attacker-glow 0.8s ease-in-out;
        }

        @keyframes buff-pulse {
            0%, 100% {
                box-shadow: 0 0 20px rgba(0, 255, 65, 0.6);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 0 40px rgba(0, 255, 65, 1);
                transform: scale(1.02);
            }
        }

        .character-card-visual.buffed-animation {
            animation: buff-pulse 1.5s ease-in-out infinite;
        }

        @keyframes winning-card-animation {
            0% {
                transform: scale(1);
                box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
            }
            50% {
                transform: scale(1.08);
                box-shadow: 0 0 60px rgba(0, 255, 255, 1), inset 0 0 40px rgba(0, 255, 255, 0.6);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
            }
        }

        .character-card-visual.winner-animation {
            animation: winning-card-animation 2s ease-in-out forwards;
        }

        /* Character Selection Screen */
        .character-selection-screen {
            /* Background image added and opacity adjusted */
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.5) 0%, rgba(10, 10, 10, 0.6) 100%), url('https://cdn.prod.website-files.com/67fb1cd83af51c4fe96dacb2/688a35914866d06a9c46dbc1_arena_bg.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border: 2px solid var(--neon-cyan);
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(0, 255, 255, 0.3), inset 0 0 50px rgba(0, 255, 255, 0.1);
            padding: 30px;
            margin: 20px auto;
            max-width: 1000px;
            width: 90%;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            position: relative;
            backdrop-filter: blur(10px);
            /* Ensure content respects safe areas within the container */
            padding-top: calc(30px + env(safe-area-inset-top, 0px));
            padding-bottom: calc(30px + env(safe-area-inset-bottom, 0px));
            padding-left: calc(30px + env(safe-area-inset-left, 0px));
            padding-right: calc(30px + env(safe-area-inset-right, 0px));
        }

        .character-selection-screen h1 {
            font-family: 'Rajdhani', sans-serif; /* Font updated */
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 15px rgba(0, 255, 255, 0.8);
            margin-bottom: 20px;
        }

        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            width: 100%;
            justify-content: center;
            padding: 10px;
        }

        .character-selection-card {
            /* Background transparency increased and new GIF added */
            background: linear-gradient(135deg, rgba(42, 42, 42, 0.5), rgba(26, 26, 26, 0.6)), url('https://cdn.prod.website-files.com/67fb1cd83af51c4fe96dacb2/688a617948ab6ad14813d2e4_arena_bgb.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border: 2px solid var(--neon-purple);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .character-selection-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .character-selection-card:hover::before {
            left: 100%;
        }

        .character-selection-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px rgba(128, 0, 255, 0.7);
            border-color: var(--neon-pink);
        }

        .character-selection-card.selected {
            border-color: var(--neon-green);
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.9);
            transform: scale(1.03);
        }

        .character-selection-card img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border-radius: 10px;
            border: 1px solid var(--neon-cyan);
        }

        .character-selection-card h3 {
            font-family: 'Rajdhani', sans-serif; /* Font updated */
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--neon-cyan);
        }

        .character-selection-card p {
            font-family: 'Rajdhani', sans-serif; /* Font updated */
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--neon-green);
            text-shadow: 0 0 8px rgba(0, 255, 65, 0.7);
        }

        .start-game-button-selection {
            font-family: 'Orbitron', monospace;
            background: linear-gradient(45deg, #00cc66, #00aacc);
            color: white;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            border: 2px solid #009944;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            margin-top: 20px;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
        }

        .start-game-button-selection:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 255, 65, 0.5);
            border-color: var(--neon-purple);
        }

        .start-game-button-selection.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Battle Intro Screen */
        #battle-intro-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease-out;
            border-radius: 20px;
        }

        #intro-player-card {
            width: 250px; /* Reduced width */
            height: 350px; /* Reduced height */
            transform: scale(0.9); /* Slightly smaller scale */
            opacity: 0;
            transition: transform 1s ease-out, opacity 1s ease-out;
            box-shadow: 0 0 50px rgba(128, 0, 255, 0.8), inset 0 0 30px rgba(128, 0, 255, 0.4);
            border-color: var(--neon-purple);
        }

        #intro-player-card img {
            filter: brightness(1.3) contrast(1.5) drop-shadow(0 0 15px rgba(128, 0, 255, 0.7));
        }

        #intro-player-name {
            font-family: 'Orbitron', monospace;
            font-size: 2rem; /* Reduced font size */
            font-weight: 700;
            color: var(--neon-pink);
            text-shadow: 0 0 20px rgba(255, 0, 128, 0.9);
            margin-top: 15px; /* Adjusted margin */
            opacity: 0;
            transition: opacity 0.8s ease-out 0.5s;
            text-align: center;
        }

        /* Newly Added Player Bar Styles */
        .player-bar {
            display: flex;
            align-items: center;
            background: linear-gradient(90deg, rgba(26, 26, 26, 0.8), rgba(10, 10, 10, 0.9));
            border-radius: 15px;
            padding: 10px 20px;
            margin-bottom: 20px;
            width: 90%; /* Width adjusted */
            max-width: 600px; /* Max width */
            border: 2px solid var(--neon-purple);
            box-shadow: 0 0 15px rgba(128, 0, 255, 0.3), inset 0 0 10px rgba(128, 0, 255, 0.1);
            margin-top: 0; /* Removed explicit margin-top as container handles it */
        }

        .player-bar-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid var(--neon-green);
            overflow: hidden;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .player-bar-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .player-bar-info {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .player-bar-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--neon-cyan);
            text-shadow: 0 0 8px rgba(0, 255, 255, 0.7);
            margin-bottom: 5px;
        }

        .player-bar-hp-container {
            width: 100%;
            height: 15px;
            background: linear-gradient(135deg, #222, #111);
            border: 1px solid var(--neon-green);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }

        .player-bar-hp {
            height: 100%;
            background: linear-gradient(45deg, var(--neon-green), #00ff80);
            border-radius: 6px;
            transition: width 0.8s ease-out;
        }

        .player-bar-hp.low-hp { /* Added low-hp class for player-bar-hp */
            background: linear-gradient(45deg, var(--neon-pink), #ff4080);
        }

        .player-bar-hp-text {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--neon-green);
            text-shadow: 0 0 5px rgba(0, 255, 65, 0.7);
            margin-left: 10px;
            flex-shrink: 0;
        }

        .player-bar-stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 5px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #ffffff;
        }

        .player-bar-stat-item {
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 5px;
            padding: 2px 5px;
            display: flex;
            align-items: center;
            gap: 3px;
        }

        .player-bar-stat-value {
            color: var(--neon-green);
            font-weight: 700;
            text-shadow: 0 0 3px rgba(0, 255, 65, 0.7);
        }

        /* Item icons container for player bar */
        .player-bar-items {
            display: flex;
            gap: 8px; /* Space between items */
            margin-left: 15px; /* Space from HP text */
        }

        .player-bar-item-icon {
            width: 24px; /* Icon size */
            height: 24px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--neon-cyan);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem; /* Icon font size, if using emojis/text */
            color: var(--neon-green); /* Icon color */
            box-shadow: 0 0 5px rgba(0, 255, 255, 0.3);
        }


        /* Responsive Design (Mobile Friendly) */
        @media (max-width: 768px) {
            .game-container, .character-selection-screen {
                margin: 10px auto;
                padding: 10px;
                width: 98%;
                max-width: none;
            }
            /* Adjusted margin-top for mobile game container */
            .game-container {
                margin-top: 70px; /* Adjusted to give more top space */
                margin-bottom: 10px;
            }

            .game-title, .character-selection-screen h1 {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }

            .main-game-content {
                flex-direction: column;
                align-items: center;
            }

            .player-areas-wrapper {
                flex-direction: column;
                align-items: center;
                width: 100%;
                max-width: 350px;
            }

            .player-area {
                width: 95%;
                max-width: 350px;
            }

            .player-info-top h2 {
                font-size: 1.5rem;
            }

            .hp-bar-container {
                width: 90%;
            }

            .character-card-visual {
                width: 180px;
                height: 250px;
            }

            .character-name {
                font-size: 1rem;
            }

            .character-stats {
                font-size: 0.8rem;
                gap: 5px;
            }

            .character-stat-item {
                padding: 3px 8px;
            }

            .game-messages {
                font-size: 0.8rem; /* Adjusted font size */
                padding: 8px 12px; /* Adjusted padding */
                min-height: 40px; /* Adjusted height */
                bottom: 10px; /* Adjusted bottom */
            }

            .game-buttons-sidebar {
                width: 90%;
                flex-direction: row; /* Keep as row for mobile */
                flex-wrap: wrap; /* Allow wrapping on smaller screens */
                justify-content: center; /* Center items when wrapped */
                gap: 10px; /* Adjusted gap for mobile buttons */
                margin-top: 15px; /* Adjusted margin-top */
                margin-bottom: 60px; /* Adjusted margin-bottom */
            }

            .game-button, .start-game-button-selection {
                width: calc(50% - 10px); /* Adjusted width for two buttons side-by-side on mobile, accounting for gap */
                padding: 10px 15px;
                font-size: 0.9rem;
            }

            .character-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            }

            .character-selection-card img {
                width: 100px;
                height: 100px;
            }

            #intro-player-card {
                width: 200px; /* Adjusted for mobile */
                height: 280px; /* Adjusted for mobile */
            }

            #intro-player-name {
                font-size: 1.5rem; /* Adjusted for mobile */
            }

            /* Mobile vertical top spacing adjustment */
            .character-selection-screen {
                margin-top: 50px; /* Adjusted for mobile */
            }

            /* Player bar mobile compatibility */
            .player-bar {
                flex-direction: row; /* Remain horizontal */
                width: 98%;
                padding: 8px 15px;
                margin-bottom: 15px;
            }

            .player-bar-avatar {
                width: 50px;
                height: 50px;
                margin-right: 10px;
            }

            .player-bar-name {
                font-size: 1rem;
            }

            .player-bar-hp-text {
                font-size: 0.8rem;
            }

            .player-bar-stats {
                flex-wrap: wrap;
                justify-content: center;
                gap: 5px;
            }

            .player-bar-stat-item {
                padding: 1px 3px;
                font-size: 0.7rem;
            }

            /* Opponent area adjustments for mobile */
            #player2-area {
                padding: 10px; /* Reduced padding */
                gap: 10px; /* Reduced gap */
            }

            .player-info-top h2 {
                font-size: 1.2rem; /* Smaller font size */
            }

            .player-info-top p {
                font-size: 0.8rem; /* Smaller font size */
            }

            .hp-bar-container {
                height: 15px; /* Smaller height */
            }

            .character-card-visual {
                width: 200px; /* Adjusted width */
                height: 280px; /* Adjusted height */
                margin-bottom: 10px; /* Reduced margin */
            }

            .character-info-bottom {
                padding: 10px; /* Reduced padding */
                margin-top: 5px; /* Reduced margin */
            }

            .character-name {
                font-size: 1rem; /* Smaller font size */
            }

            .character-stats {
                font-size: 0.7rem; /* Smaller font size */
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="cyber-background"></div>
    <div class="particles"></div>

    <!-- Character Selection Screen -->
    <div class="character-selection-screen" id="character-selection-screen">
        <h1>NFT KARAKTERİNİ SEÇ</h1>
        <p class="text-gray-400 text-sm mb-4">Cüzdan Adresiniz: <span id="displayWalletAddress" class="text-neon-cyan font-bold">Yükleniyor...</span></p>
        <div class="character-grid" id="character-grid">
            <p class="text-center text-gray-500 col-span-full" id="loading-nfts">NFT'ler yükleniyor...</p>
        </div>
        <button id="select-character-button" class="start-game-button-selection disabled" disabled>SAVAŞA BAŞLA</button>
    </div>

    <!-- Game Container -->
    <div class="game-container" id="game-container">
        <h1 class="game-title">NFT BATTLE ARENA</h1>

        <!-- Battle Intro Screen -->
        <div id="battle-intro-screen">
            <h2 class="text-3xl font-orbitron text-neon-cyan mb-8">Savaş Başlıyor!</h2>
            <div id="intro-player-card" class="character-card-visual"></div>
            <p id="intro-player-name" class="text-center"></p>
        </div>

        <!-- Main Game Content -->
        <div class="main-game-content">
            <!-- Player 1 (You) Bar -->
            <div class="player-bar" id="player1-bar">
                <div class="player-bar-avatar">
                    <!-- NFT image will go here. Should be updated from JavaScript. -->
                    <img id="player1-avatar" src="https://placehold.co/60x60/8000ff/ffffff?text=P1" alt="Player 1 Avatar">
                </div>
                <div class="player-bar-info">
                    <div class="player-bar-name" id="player1-name-bar">SEN</div>
                    <div class="player-bar-hp-container">
                        <div id="player1-hp-bar-small" class="player-bar-hp" style="width: 100%;"></div>
                        <div class="hp-overlay-text">
                            <span class="heart-icon">❤️</span> <span id="player1-hp-bar-text">100</span>
                        </div>
                    </div>
                    <!-- Player stats added here -->
                    <div class="player-bar-stats">
                        <div class="player-bar-stat-item">LVL: <span id="player1-level-bar" class="player-bar-stat-value">?</span></div>
                        <div class="player-bar-stat-item">ATK: <span id="player1-atk-bar" class="player-bar-stat-value">?</span></div>
                        <div class="player-bar-stat-item">DEF: <span id="player1-def-bar" class="player-bar-stat-value">?</span></div>
                        <div class="player-bar-stat-item">CRIT: <span id="player1-crit-bar" class="player-bar-stat-value">?%</span></div>
                    </div>
                </div>
                <!-- Removed old HP text span -->
                <!-- Item icons container for player bar -->
                <div class="player-bar-items" id="player1-items-bar">
                    <!-- Item icons will be added here dynamically by JavaScript -->
                    <div class="player-bar-item-icon">⚡</div>
                    <div class="player-bar-item-icon">🛡️</div>
                    <div class="player-bar-item-icon">💊</div>
                </div>
            </div>

            <div class="player-areas-wrapper">
                <!-- Player 2 (Opponent) Area -->
                <div class="player-area" id="player2-area">
                    <div class="player-info-top">
                        <h2 id="player2-name-display">RAKİP</h2>
                        <!-- Removed old HP text p tag -->
                        <div class="hp-bar-container">
                            <div id="player2-hp-bar" class="hp-bar" style="width: 100%;"></div>
                            <div class="hp-overlay-text">
                                <span class="heart-icon">❤️</span> <span id="player2-hp">100</span>
                            </div>
                        </div>
                    </div>
                    <div class="character-card-visual" id="player2-character-card-visual"></div>
                    <div class="character-info-bottom">
                        <div class="character-name" id="player2-character-name"></div>
                        <div class="character-stats" id="player2-character-stats"></div>
                    </div>
                    <!-- Game Buttons moved inside player2-area -->
                    <div class="game-buttons-sidebar">
                        <button id="start-battle-button" class="game-button hidden">SAVAŞI BAŞLAT</button>
                        <button id="attack-button" class="game-button hidden">SALDIRI</button>
                        <button id="buff-button" class="game-button hidden">GÜÇLEN</button>
                        <button id="restart-button" class="game-button hidden">YENİDEN</button>
                    </div>
                </div>
                <!-- Player 1 (You) Area - This section is hidden -->
                <div class="player-area hidden" id="player1-area">
                    <div class="player-info-top">
                        <h2 id="player1-name-display">SEN</h2>
                        <p class="text-lg font-bold mb-2"><span id="player1-hp" style="color: var(--neon-green); text-shadow: 0 0 8px rgba(0, 255, 65, 0.7);">100</span> HP</p>
                        <div class="hp-bar-container">
                            <div id="player1-hp-bar" class="hp-bar" style="width: 100%;"></div>
                        </div>
                    </div>
                    <div class="character-card-visual" id="player1-character-card-visual"></div>
                    <div class="character-info-bottom">
                        <div class="character-name" id="player1-character-name"></div>
                        <div class="character-stats" id="player1-character-stats"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Game Messages Area -->
        <div class="game-messages" id="game-messages">SAVAŞ BAŞLADI! SIRA SENDE.</div>
    </div>
    <!-- Link your JavaScript file here -->
    <script src="arena_v3.js"></script>
    <!--
        IMPORTANT NOTE:
        The HTML changes above have moved Player 1's (your) information to the top bar.
        For this information to be displayed and updated correctly, you need to make the following changes in your "arena_v3.js" file:

        1.  **NFT Image:** When you load Player 1's NFT image, assign this image to the `src` attribute of the `player1-avatar` element.
            Example: `document.getElementById('player1-avatar').src = characterNFTImageURL;`

        2.  **HP Update:** When Player 1's HP changes, update both the `width` style of the `player1-hp-bar-small` element and the text content of the `player1-hp-bar-text` element.
            Example:
            `document.getElementById('player1-hp-bar-small').style.width = newHP + '%';`
            `document.getElementById('player1-hp-bar-text').textContent = newHP;` // Changed to only update number
            Additionally, add/remove the 'low-hp' class based on HP percentage:
            `document.getElementById('player1-hp-bar-small').classList.toggle('low-hp', newHP <= 30);`
            **IMPORTANT:** If you want "100 HP" to appear, ensure your JavaScript sets `textContent` to `newHP + ' HP'`.

        3.  **Name Update:** When Player 1's name changes, update the text content of the `player1-name-bar` element.
            Example: `document.getElementById('player1-name-bar').textContent = characterName;`

        4.  **Stats Update:** When Player 1's level, ATK, DEF, and CRIT stats change, update the text content of the corresponding `span` elements (`player1-level-bar`, `player1-atk-bar`, `player1-def-bar`, `player1-crit-bar`).
            Example:
            `document.getElementById('player1-level-bar').textContent = characterLevel;`
            `document.getElementById('player1-atk-bar').textContent = characterATK;`
            `document.getElementById('player1-def-bar').textContent = characterDEF;`
            `document.getElementById('player1-crit-bar').textContent = characterCRIT + '%';`

        5.  **Item Icons Update:** If you have item data for player1, you can dynamically add item icons to the `player1-items-bar` element.
            Example (inside updateUI or a dedicated function):
            `const player1ItemsBar = document.getElementById('player1-items-bar');`
            `player1ItemsBar.innerHTML = ''; // Clear existing items`
            `player1.items.forEach(item => {`
            `   const itemIconDiv = document.createElement('div');`
            `   itemIconDiv.classList.add('player-bar-item-icon');`
            `   itemIconDiv.textContent = item.icon; // Assuming item object has an 'icon' property (e.g., '⚡', '🛡️')`
            `   player1ItemsBar.appendChild(itemIconDiv);`
            `});`

        When these updates are made, Player 1's information will be displayed correctly in the top bar, and HP drops during battle will also be reflected on this bar.
    -->
</body>
</html>
